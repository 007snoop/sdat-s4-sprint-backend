# ============================
# Application Info
# ============================
spring.application.name=sdat-s4-sprint-backend

# ============================
# JPA / Hibernate
# ============================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.open-in-view=true
# Let Hibernate auto-detect MySQL dialect (warn suppression)
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# ============================
# Database Configuration
# ============================
# Switch between AWS Secrets Manager and local DB
# If false, the app will use DB_URL, DB_USER, DB_PASS env vars instead
useAwsSecrets=true

# Local development fallback values (only used if useAwsSecrets=false)
DB_URL=jdbc:mysql://localhost:3306/airportsim?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
DB_USER=root
DB_PASS=password

# ============================
# Actuator (Health / Info Endpoints)
# ============================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.probes.enabled=true
management.health.defaults.enabled=true
management.endpoint.health.show-details=never

# ============================
# CSV Import
# ============================
# Ensure CSVs in src/main/resources/data are packaged and loaded from classpath
app.csv.import.airports=true
app.csv.import.generateFlights=true
app.csv.path.airports=classpath:data/airports.csv
app.csv.path.routes=classpath:data/routes.dat

# ============================
# Flyway (disabled for now to avoid "No migrations found" error)
# ============================
spring.flyway.enabled=false